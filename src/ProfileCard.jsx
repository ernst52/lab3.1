import React from 'react';
import './ProfileCard.css';

function ProfileCard({ profile }) {
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á Avatar (‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡∏ä‡∏∑‡πà‡∏≠)
    const getInitials = (name) => {
        return name
            .split(' ')
            .map(n => n[0])
            .join('')
            .toUpperCase();
    };

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° Contact
    const handleContactClick = () => {
        alert(`‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ! ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ ${profile.name} ‡∏ó‡∏µ‡πà‡∏≠‡∏µ‡πÄ‡∏°‡∏• ${profile.email}`);
    };

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà skill
    const handleSkillClick = (skill) => {
        alert(`${profile.name} ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡πÉ‡∏ô ${skill}!`);
    };

    // TODO: ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏° state ‡πÅ‡∏•‡∏∞ functions ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô Challenge

    return (
      <div className="profile-card">
        {/* ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß - ‡∏£‡∏π‡∏õ‡πÅ‡∏•‡∏∞‡∏ä‡∏∑‡πà‡∏≠ */}
        <div className="profile-header">
          <div className="profile-avatar">{getInitials(profile.name)}</div>
          <h1 className="profile-name">{profile.name}</h1>
          <div className="student-id">{profile.studentId}</div>
        </div>

        {/* ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô */}
        <div className="profile-info">
          <div className="info-item">
            <div className="info-label">Major</div>
            <div className="info-value">{profile.major}</div>
          </div>
          <div className="info-item">
            <div className="info-label">Year</div>
            <div className="info-value">{profile.year}</div>
          </div>
          <div className="info-item">
            <div className="info-label">Age</div>
            <div className="info-value">{profile.age} Years old</div>
          </div>
          <div className="info-item">
            <div className="info-label">Grade</div>
            <div className="info-value">
              {typeof profile.gpa === "number" ? profile.gpa.toFixed(2) : "Ain't tellin'"}
              {typeof profile.gpa === "number" && profile.gpa >= 3.5 && " üåü"}
            </div>
          </div>
        </div>

        {/* ‡∏á‡∏≤‡∏ô‡∏≠‡∏î‡∏¥‡πÄ‡∏£‡∏Å */}
        <div className="profile-section">
          <h3>üéØ Hobbies</h3>
          <ul className="hobbies-list">
            {profile.hobbies.map((hobby, index) => (
              <li key={index} className="hobby-item">
                {hobby}
              </li>
            ))}
          </ul>
        </div>

        {/* Skill */}
        <div className="profile-section">
          <h3>üíª Skill</h3>
          <div className="skills">
            {profile.skills.map((skill, index) => (
              <div
                key={index}
                className="skill-tag"
                onClick={() => handleSkillClick(skill)}
              >
                {skill}
              </div>
            ))}
          </div>
        </div>

        {/* Social Links */}
        {profile.socialLinks && profile.socialLinks.length > 0 && (
          <div className="profile-section">
            <h3>üåê Social Media</h3>
            <div className="social-links">
              {profile.socialLinks.map((link, index) => (
                <a
                  key={index}
                  href={link.url}
                  target="_blank"
                  rel="noopener noreferrer"
                  className="social-link"
                >
                  {link.platform}
                </a>
              ))}
            </div>
          </div>
        )}

        {/* ‡∏õ‡∏∏‡πà‡∏° Contact */}
        <button className="contact-button" onClick={handleContactClick}>
          Contact {profile.name}
        </button>
      </div>
    );
}

export default ProfileCard;